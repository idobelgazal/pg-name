<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PrimeGuard Admin</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white font-sans p-6">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-bold mb-4">PrimeGuard Admin Panel</h1>

    <!-- Ban Management -->
    <div class="bg-gray-800 p-6 rounded-xl mb-8">
      <h2 class="text-2xl font-semibold mb-4">ðŸš« Ban a Player</h2>
      <input id="banName" type="text" placeholder="Enter Player Name" class="w-full mb-3 p-2 rounded bg-gray-700">
      <input id="banReason" type="text" placeholder="Reason for Ban" class="w-full mb-3 p-2 rounded bg-gray-700">
      <button onclick="banPlayer()" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700">Ban Player</button>
    </div>

    <!-- Unban Management -->
    <div class="bg-gray-800 p-6 rounded-xl mb-8">
      <h2 class="text-2xl font-semibold mb-4">âœ… Unban a Player</h2>
      <input id="unbanName" type="text" placeholder="Enter Player Name" class="w-full mb-3 p-2 rounded bg-gray-700">
      <button onclick="unbanPlayer()" class="bg-green-600 px-4 py-2 rounded hover:bg-green-700">Unban Player</button>
    </div>

    <!-- List of Banned Players -->
    <div class="bg-gray-800 p-6 rounded-xl">
      <h2 class="text-2xl font-semibold mb-4">ðŸ“‹ Banned Players</h2>
      <ul id="banList" class="space-y-2 text-sm"></ul>
    </div>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCCf8q_Hk1VAVmKjlcRsauUT9i05n2EjL4",
      authDomain: "pg-panel-4cb01.firebaseapp.com",
      databaseURL: "https://pg-panel-4cb01-default-rtdb.firebaseio.com",
      projectId: "pg-panel-4cb01",
      storageBucket: "pg-panel-4cb01.appspot.com",
      messagingSenderId: "1082222345306",
      appId: "1:1082222345306:web:2f416498b469274a052c63"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function banPlayer() {
      const name = document.getElementById("banName").value;
      const reason = document.getElementById("banReason").value;
      if (name && reason) {
        db.ref("bans/" + name).set({ reason, time: new Date().toLocaleString() });
        alert(`${name} has been banned.`);
        loadBans();
      }
    }

    function unbanPlayer() {
      const name = document.getElementById("unbanName").value;
      if (name) {
        db.ref("bans/" + name).remove();
        alert(`${name} has been unbanned.`);
        loadBans();
      }
    }

    function loadBans() {
      const list = document.getElementById("banList");
      list.innerHTML = "";
      db.ref("bans").once("value", snapshot => {
        const data = snapshot.val();
        if (data) {
          Object.keys(data).forEach(player => {
            list.innerHTML += `<li class='bg-gray-700 p-2 rounded'>${player} - ${data[player].reason} <span class='text-gray-400'>(${data[player].time})</span></li>`;
          });
        }
      });
    }

    loadBans();
  </script>
</body>
</html>
